"use strict";const e=require("../../common/vendor.js"),s=require("../../static/products/products.js"),o={data:()=>({value:"",searchResult:[],goodsList:s.goodsList,list:[{id:0,name:"全部"},{id:1,name:"快检仪"},{id:2,name:"比色计"},{id:3,name:"分析仪"},{id:4,name:"消解仪"},{id:5,name:"快检包和试剂"}],selectedTabId:0,isDissolverTabClicked:!1}),computed:{filteredGoodsList(){return 0===this.selectedTabId?this.goodsList:1===this.selectedTabId?this.goodsList.filter((e=>e.goods_id>=0&&e.goods_id<=3)):2===this.selectedTabId?this.goodsList.filter((e=>e.goods_id>=10&&e.goods_id<=13)):3===this.selectedTabId?this.goodsList.filter((e=>e.goods_id>=4&&e.goods_id<=8)):4===this.selectedTabId?this.goodsList.filter((e=>9===e.goods_id)):5===this.selectedTabId?this.goodsList.filter((e=>e.goods_id>=14&&e.goods_id<=16)):void 0},productListStyle(){return this.isDissolverTabClicked?{padding:"5vw 5% 82% 5%"}:{padding:"5vw 5% 14vw 5%"}}},onPageScroll(e){e.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh(){setTimeout((()=>{this.reload(),e.index.stopPullDownRefresh()}),1e3)},onReachBottom(){},methods:{open(){this.$refs.popup.open()},change(e){console.log("弹窗状态改变：",e)},toast(){e.index.showToast({icon:"none",title:"插槽被点击"})},handleTabClick(e){this.selectedTabId=e.id,this.isDissolverTabClicked=4===e.id},toGoods(s){const o=s.img.map((e=>e.url)).join(","),t=s.parameter.map((e=>`${e.parameters_name}:${e.range}:${e.detect_range}:${e.precast_range}:${e.cuvettes_range}`)).join(",");e.index.navigateTo({url:`/pages/goods/goodsdetail?goods_id=${s.goods_id}&name=${s.name}&price=${s.price}&img=${o}&parameters=${t}`,success(e){},fail(e){console.error("跳转失败",e)}})},onChange(e){this.value=e},onSearch(){if(""===this.value.trim())this.searchResult=[];else{const s=this.value.trim().toLowerCase();this.searchResult=this.goodsList.filter((e=>{const o=e.name.toLowerCase(),t=e.kind.toLowerCase(),i=e.parameter.map((e=>e.parameters_name.toLowerCase()));return!!(o.includes(s)||t.includes(s)||i.some((e=>e.includes(s))))})),this.searchResult.length>0?(JSON.stringify(this.searchResult),e.index.navigateTo({url:"/pages/goods/goods?goodsData="+JSON.stringify(this.searchResult)})):e.index.showToast({title:"暂无匹配商品"})}}}};if(!Array){(e.resolveComponent("uv-search")+e.resolveComponent("uv-tabs")+e.resolveComponent("uv-sticky"))()}Math||((()=>"../../uni_modules/uv-search/components/uv-search/uv-search.js")+(()=>"../../uni_modules/uv-tabs/components/uv-tabs/uv-tabs.js")+(()=>"../../uni_modules/uv-sticky/components/uv-sticky/uv-sticky.js"))();const t=e._export_sfc(o,[["render",function(s,o,t,i,d,a){return{a:e.o(a.onChange),b:e.o(a.onSearch),c:e.o(a.onSearch),d:e.p({showAction:!0,actionText:"搜索",animation:!0,height:"40","search-icon-size":"30"}),e:e.o(a.handleTabClick),f:e.p({list:d.list,"line-width":"30"}),g:e.p({bgColor:"#f0ffff"}),h:e.f(a.filteredGoodsList,((s,o,t)=>({a:s.img[0].url,b:e.t(s.name),c:e.t(s.price),d:s.goods_id,e:e.o((e=>a.toGoods(s)),s.goods_id)}))),i:e.s(a.productListStyle)}}]]);o.__runtimeHooks=1,wx.createPage(t);
